(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{345:function(e,t,n){},354:function(e,t,n){},357:function(e,t,n){},359:function(e,t,n){},361:function(e,t,n){},365:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(19),o=n.n(c),u=n(10),l=n(21),i=n(36),s=(n(56),n(58),n(60),n(29)),d=n(15);n(62);var f=function(e){var t=e.frets;return r.a.createElement("div",{className:"MarkerBoard"},r.a.createElement("div",{className:"nut"}),Object(d.a)(Array(t)).map(function(e,t){return r.a.createElement("div",{className:"fret",key:t},function(e){if(0===e)return"";var t=e-12*Math.floor(e/12);return 0===t?e:[3,5,7,9].some(function(e){return t/e===1})?e.toString():""}(t+1))}))},v=n(13),m=n(14),g=n(17),E=n(16),p=n(18);n(64);var h=function(e){return{getAtIndex:function(t){if(t<0){var n=e.length+t;return e[n]}if(t>=e.length){var a=t%e.length;return e[a]}return e[t]}}},N=["A","A#","B","C","C#","D","D#","E","F","F#","G","G#"];function O(e){return e[0]}var S=function(){function e(t){Object(v.a)(this,e),this.name=t,this.sharp=!1}return Object(m.a)(e,[{key:"sharpen",value:function(){return this.sharp=!0,this}},{key:"toString",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this.toFlatString():this.sharp?this.name+"#":this.name}},{key:"toFlatString",value:function(){var e=this.next();return"".concat(e).concat("\u266d")}},{key:"getIndex",value:function(){var e=this.toString();return N.indexOf(e)}},{key:"next",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,n=h(N),a=this.getIndex()+t,r=n.getAtIndex(a);return r.length>1?new e(O(r)).sharpen():new e(O(r))}}]),e}();var b=function(e,t){var n=new S(e);return{root:function(){return e},noteAtFret:function(e){return n.next(e)}}},T=n(12),C=(n(66),n(70));n(68);function j(e){var t=e.note,n=e.focusNote,a=e.string,r=e.selectedNotes,c=e.scaleNotes,o=t.toString();if(void 0!==a&&r&&r.filter(function(e){return e.string===a&&e.note===t.toString()}).length>0)return"danger";if(o===n)return"success";if(c&&c.includes(o))return"info";return""}var k=function(e){var t=e.note,n=e.focusNote,a=e.onClick,c=(e.scale,e.string),o=void 0===c?0:c,u=e.selectedNotes,l=void 0===u?[]:u,i=e.scaleNotes,s=void 0===i?[]:i;return r.a.createElement("div",{className:"NoteDisplay",onClick:a},r.a.createElement(C.a,{color:j({note:t,focusNote:n,string:o,selectedNotes:l,scaleNotes:s})},t.toString()))},y=function(e){function t(){var e;return Object(v.a)(this,t),(e=Object(g.a)(this,Object(E.a)(t).call(this))).handleClick=e.handleClick.bind(Object(T.a)(Object(T.a)(e))),e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"handleClick",value:function(){var e=this.props,t=e.note,n=e.string;this.props.onClick(t.toString(),n)}},{key:"render",value:function(){var e=this.props,t=e.note,n=e.focusNote,a=e.scale,c=e.string,o=e.selectedNotes,u=e.scaleNotes;return r.a.createElement("div",{className:"NoteView"},r.a.createElement("div",{className:"note-area"},r.a.createElement("div",{className:"string"}),r.a.createElement(k,{note:t,scale:a,focusNote:n,scaleNotes:u,string:c,selectedNotes:o,onClick:this.handleClick}),r.a.createElement("div",{className:"string"})),r.a.createElement("div",{className:"fret"}))}}]),t}(a.Component),_=Object(u.b)(function(e){return{tuning:e.tuning.value,frets:e.frets,focusNote:e.focusNote,scale:e.scale,selectedNotes:e.selectedNotes,scaleNotes:e.scaleNotes}},function(e){return{onClick:function(t,n){e({type:"SET_SELECTED_NOTE",value:{note:t,string:n}})}}})(y),w=[{name:"Major",sequence:[2,2,1,2,2,2,1]},{name:"Natural Minor",sequence:[2,1,2,2,1,2,2]},{name:"Major Pentatonic",sequence:[2,2,3,2,3]},{name:"Minor Pentatonic",sequence:[3,2,2,3,2]},{name:"Minor Harmonic",sequence:[2,1,2,2,1,3,1]},{name:"Diminished",sequence:[2,1,2,1,2,1,2,1]},{name:"Persian Scale",sequence:[1,3,1,1,2,3,1]}];function A(e,t){return{noteSequence:function(){var n=new S(e);return Object(s.b)(function(e,t){var a=n.next(e.pointInScale);return{seq:Object(s.a)([e.seq,[a]]),pointInScale:e.pointInScale+t}},{seq:[],pointInScale:0},t).seq}}}var D=A,G=(n(71),function(e){function t(){var e;return Object(v.a)(this,t),(e=Object(g.a)(this,Object(E.a)(t).call(this))).handleClick=e.handleClick.bind(Object(T.a)(Object(T.a)(e))),e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"getClasses",value:function(e){var t=e.note,n=e.selectedNotes,a=e.string,r=e.scale,c=e.focusNote,o=t.toString();if(void 0!==a&&n&&n.filter(function(e){return e.string===a&&e.note===t.toString()}).length>0)return"".concat(""," highlight-selected-note");if(o===c)return"".concat(""," highlight");if(r&&r&&A(c,r.sequence).noteSequence().map(function(e){return e.toString()}).includes(o))return"".concat(""," highlight-scale-note");return""}},{key:"handleClick",value:function(){var e=this.props,t=e.note,n=e.string;this.props.onClick(t.toString(),n)}},{key:"render",value:function(){var e=this.props,t=e.note,n=e.selectedNotes,a=e.string,c=e.focusNote,o=e.scale,u=e.scaleNotes;return r.a.createElement("div",{className:"NutView"},r.a.createElement("span",{className:this.getClasses({note:t,selectedNotes:n,focusNote:c,scale:o,string:a}),onClick:this.handleClick},r.a.createElement(C.a,{outline:!0,color:j({note:t,focusNote:c,string:a,selectedNotes:n,scaleNotes:u})},t.toString())))}}]),t}(a.Component)),I=Object(u.b)(function(e){return{tuning:e.tuning.value,frets:e.frets,focusNote:e.focusNote,scale:e.scale,selectedNotes:e.selectedNotes,scaleNotes:e.scaleNotes}},function(e){return{onClick:function(t,n){e({type:"SET_SELECTED_NOTE",value:{note:t,string:n}})}}})(G),q=function(e){function t(e){var n;return Object(v.a)(this,t),(n=Object(g.a)(this,Object(E.a)(t).call(this,e))).state={notes:[]},n.state.notes=n.getNotes({rootNote:n.props.rootNote,frets:n.props.frets}),n}return Object(p.a)(t,e),Object(m.a)(t,[{key:"getNotes",value:function(e){for(var t=e.rootNote,n=e.frets,a=b(t,n),r=[],c=1;c<n+1;c++)r.push(a.noteAtFret(c));return r}},{key:"componentWillReceiveProps",value:function(e){this.setState({notes:this.getNotes({rootNote:e.rootNote,frets:e.frets})})}},{key:"render",value:function(){var e=this.props,t=e.rootNote,n=e.string;return r.a.createElement("div",{className:"GuitarString"},r.a.createElement(I,{note:new S(t),string:n}),this.state.notes.map(function(e,t){return r.a.createElement(_,{note:e,string:n,key:t+e.toString()})}))}}]),t}(a.Component),F=Object(u.b)(function(e){return{tuning:e.tuning.value,frets:e.frets}},function(e){return{onNoteClick:function(t,n){e({type:"SET_SELECTED_NOTE",value:{note:t,string:n}})}}})(function(e){var t=e.tuning,n=e.frets;return r.a.createElement("div",{className:"Fretboard noselect"},r.a.createElement("div",null,Object(s.c)(t).map(function(e,t){return r.a.createElement(q,{rootNote:e,frets:n,key:t,string:t})})),r.a.createElement(f,{frets:n}))}),L=n(370),x=n(371),M=n(372),R=n(373),U=n(374),P=n(31),B=N.map(function(e){return new S(e)}),V=function(e){var t=e.focusNote,n=e.handleNoteSelected;return r.a.createElement("div",{className:"noselect FocusNoteSelector-notes"},B.map(function(e,a){return r.a.createElement(k,{key:a.toString(),focusNote:t,note:e,onClick:function(){return n(e.toString())}})}))},J=n(28),X=n(375),z=n(366),H=n(367),K=n(368),W=n(369),Y=(n(345),{values:["A"],name:"",dirty:!1}),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECT_NOTE_AT_STRING":return function(e,t){var n=t.note,a=t.string,r=e.name,c=Object(d.a)(e.values);return c[a]=n,{dirty:!0,values:c,name:r}}(e,t.value);case"UPDATE_NAME":return function(e,t){return{values:e.values,dirty:!0,name:t}}(e,t.value);case"REMOVE_STRING":return function(e,t){return{name:e.name,dirty:!0,values:[].concat(Object(d.a)(e.values.slice(0,t)),Object(d.a)(e.values.slice(t+1,e.values.length)))}}(e,t.value);case"RESET":return Y;case"ADD_STRING":return function(e){var t=e.values;return{dirty:!0,name:e.name,values:[].concat(Object(d.a)(t),["A"])}}(e);default:return e}},Z=Object(u.b)(function(e){return{modalOpen:e.tuningModalOpen}},function(e){return{toggleModal:function(){e({type:"TOGGLE_TUNING_MODAL_OPEN"})},addTuning:function(t){e({type:"ADD_TUNING",value:t})}}})(function(e){var t=e.modalOpen,n=e.toggleModal,c=e.addTuning,o=Object(a.useReducer)(Q,Y),u=Object(P.a)(o,2),l=u[0],i=u[1];return r.a.createElement(X.a,{isOpen:t,toggle:n,className:"AddTuningModal"},r.a.createElement(z.a,null,"Add new Tuning"),r.a.createElement(H.a,null,r.a.createElement(K.a,{value:l.name,invalid:l.name.length<1&&l.dirty,placeholder:"Name",onChange:function(e){return i({type:"UPDATE_NAME",value:e.target.value})}}),l.values.map(function(e,t){return r.a.createElement("div",{className:"string",key:t},r.a.createElement("span",null,"String: ",t+1)," ",r.a.createElement(V,{handleNoteSelected:function(e){return i({type:"SELECT_NOTE_AT_STRING",value:{note:e,string:t}})},focusNote:e}),r.a.createElement(J.Delete,{className:"delete",onClick:function(){return i({type:"REMOVE_STRING",value:t})}}))}),r.a.createElement(C.a,{onClick:function(e){return i({type:"ADD_STRING"})}},r.a.createElement(J.Plus,null))),r.a.createElement(W.a,null,r.a.createElement(C.a,{onClick:function(){i({type:"RESET"}),n()}},"Cancel"),r.a.createElement(C.a,{color:"info",disabled:l.name.length<1,onClick:function(){n(),c({name:l.name,value:l.values}),i({type:"RESET"})}},"Add")))}),$=(n(354),function(e){function t(){var e;return Object(v.a)(this,t),(e=Object(g.a)(this,Object(E.a)(t).call(this))).state={dropdownOpen:!1},e.dropdownToggle=e.dropdownToggle.bind(Object(T.a)(Object(T.a)(e))),e.handleTuningOptionClick=e.handleTuningOptionClick.bind(Object(T.a)(Object(T.a)(e))),e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"dropdownToggle",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"handleTuningOptionClick",value:function(e){this.props.handleTuningChange(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.tuning,c=t.tuningOptions,o=t.handleTuningAddClick;return r.a.createElement(a.Fragment,null,r.a.createElement(L.a,{className:"TuningSelector-dropdown"},r.a.createElement(x.a,{isOpen:this.state.dropdownOpen,toggle:this.dropdownToggle},r.a.createElement(M.a,{caret:!0},n.name),r.a.createElement(R.a,null,c.map(function(t,n){return r.a.createElement(U.a,{key:n,onClick:function(n){return e.handleTuningOptionClick(t)}},t.name)}))),r.a.createElement(C.a,{color:"primary",onClick:o},r.a.createElement(J.Plus,null))),r.a.createElement(Z,null))}}]),t}(a.Component)),ee=Object(u.b)(function(e){return{tuningOptions:e.tuningOptions,tuning:e.tuning}},function(e){return{handleTuningChange:function(t){e({type:"SET_TUNING",value:t})},handleTuningAddClick:function(){e({type:"SET_TUNING_MODAL_OPEN",value:!0})}}})($),te=n(356),ne=(n(357),function(e){function t(){var e;return Object(v.a)(this,t),(e=Object(g.a)(this,Object(E.a)(t).call(this))).state={dropdownOpen:!1},e.dropdownToggle=e.dropdownToggle.bind(Object(T.a)(Object(T.a)(e))),e}return Object(p.a)(t,e),Object(m.a)(t,[{key:"dropdownToggle",value:function(){this.setState({dropdownOpen:!this.state.dropdownOpen})}},{key:"render",value:function(){var e=this.props,t=e.targetNote,n=e.scale,c=e.handleScaleChange,o=A(t,n.sequence).noteSequence().map(function(e){return e.toString()});return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"ScaleSelector-label noselect"},"Scale",r.a.createElement(te.a,{className:"ScaleSelector-selector",isOpen:this.state.dropdownOpen,toggle:this.dropdownToggle},r.a.createElement(M.a,{caret:!0},n.name),r.a.createElement(R.a,null,w.map(function(e,t){return r.a.createElement(U.a,{key:t,onClick:function(t){return c(e)}},e.name)})))),r.a.createElement("div",{className:"ScaleSelector-sequence"},n.sequence.map(function(e,t){return r.a.createElement("span",{key:t},e)})),r.a.createElement("div",{className:"ScaleSelector-sequence"},o.map(function(e,t){return r.a.createElement("span",{key:t},e)})))}}]),t}(a.Component)),ae=Object(u.b)(function(e){return{targetNote:e.focusNote,scale:e.scale}},function(e){return{handleScaleChange:function(t){e({type:"SET_SCALE",value:t})}}})(ne);function re(e){return!(e.length&&e.length>0)}var ce=Object(u.b)(function(e){return{selectedNotes:e.selectedNotes}},function(e){return{onClick:function(){e({type:"CLEAR_SELECTED_NOTES"})}}})(function(e){var t=e.selectedNotes,n=e.onClick;return r.a.createElement(C.a,{className:"ClearSelected",disabled:re(t),outline:!0,color:"danger",onClick:n},"Clear Selected")}),oe=(n(359),Object(u.b)(function(e){return{frets:e.frets}},function(e){return{handleFretsChange:function(t){e({type:"SET_FRETS",value:parseInt(t.currentTarget.value,10)})}}})(function(e){var t=e.handleFretsChange,n=e.frets;return r.a.createElement(K.a,{className:"Settings",type:"number",label:"Frets",onChange:t,value:n,margin:"normal",min:12})})),ue=(n(361),Object(u.b)(function(e){return{focusNote:e.focusNote}},function(e){return{handleNoteSelected:function(t){e({type:"SET_FOCUS_NOTE",value:t})}}})(function(e){var t=e.focusNote,n=e.handleNoteSelected;return r.a.createElement(a.Fragment,null,r.a.createElement("div",null,"Focus Note"),r.a.createElement(V,{focusNote:t,handleNoteSelected:n}))})),le=function(){return r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"App-toolbar"},r.a.createElement("h3",null,"Fretboard"),r.a.createElement("div",{className:"App-toolbar-menu"},r.a.createElement(ee,null),r.a.createElement(oe,null))),r.a.createElement("div",{className:"App-pre-fretboard"},r.a.createElement(ue,null),r.a.createElement(ae,null)),r.a.createElement("div",{className:"App-fretboard-container"},r.a.createElement(F,null)),r.a.createElement("div",{className:"App-fretboard-button"},r.a.createElement(ce,null)))},ie=[{name:"Standard E",value:["E","A","D","G","B","E"]},{name:"Standard C",value:["C","F","A#","D#","G","C"]},{name:"Standard D",value:["D","G","C","F","A","D"]},{name:"Drop C",value:["C","G","C","F","A","D"]},{name:"Standard B (7 String)",value:["B","E","A","D","G","B","E"]},{name:"Bass E",value:["E","A","D","G"]}],se={name:"Standard E",value:["E","A","D","G","B","G"]};var de="C";var fe=parseInt(localStorage.getItem("frets"),10)||24;var ve=Object(P.a)(w,1)[0],me=D(de,ve.sequence).noteSequence().map(function(e){return e.toString()});var ge=Object(l.c)({focusNote:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FOCUS_NOTE":return e=t.value;default:return e}},frets:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FRETS":return e=t.value,localStorage.setItem("frets",e.toString()),e;default:return e}},key:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SET_KEY"===t.type&&(e=t.value),e},tuningOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TUNING":return[].concat(Object(d.a)(e),[t.value]);default:return e}},tuning:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_TUNING":return e=t.value;default:return e}},tuningModalOpen:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_TUNING_MODAL_OPEN":return e=!e;case"SET_TUNING_MODAL_OPEN":return e=t.value;default:return e}},scale:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SCALE":return e=t.value;default:return e}},scaleNotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;return"SET_SCALE_NOTES"===t.type?e=t.value:e},selectedNotes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SELECTED_NOTE":var n=t.value,a=function(e){return e.note===n.note&&e.string===n.string};return e.findIndex(a)<0?[].concat(Object(d.a)(e),[n]):e.filter(function(e){return!a(e)});case"CLEAR_SELECTED_NOTES":return[];default:return e}}}),Ee=n(20),pe=n.n(Ee),he=n(23),Ne=pe.a.mark(je),Oe=pe.a.mark(ke),Se=pe.a.mark(ye),be=pe.a.mark(_e),Te=function(e){return e.focusNote},Ce=function(e){return e.scale};function je(e){var t,n;return pe.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(he.b)(Te);case 2:return t=a.sent,n=A(t,e.value.sequence).noteSequence().map(function(e){return e.toString()}),a.next=6,Object(he.a)({type:"SET_SCALE_NOTES",value:n});case 6:case"end":return a.stop()}},Ne,this)}function ke(e){var t,n;return pe.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(he.b)(Ce);case 2:return t=a.sent,n=A(e.value,t.sequence).noteSequence().map(function(e){return e.toString()}),a.next=6,Object(he.a)({type:"SET_SCALE_NOTES",value:n});case 6:case"end":return a.stop()}},Oe,this)}function ye(){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(he.c)("SET_SCALE",je);case 2:case"end":return e.stop()}},Se,this)}function _e(){return pe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(he.c)("SET_FOCUS_NOTE",ke);case 2:case"end":return e.stop()}},be,this)}var we=n(46),Ae=Object(we.a)(),De=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||l.d,Ge=Object(l.e)(ge,De(Object(l.a)(Ae)));Ae.run(ye),Ae.run(_e),i.a.initialize("UA-113213939-1",{debug:"dvisagie.com"!==window.location.hostname}),i.a.pageview(window.location.pathname),o.a.render(r.a.createElement(u.a,{store:Ge},r.a.createElement(le,null)),document.getElementById("root"))},47:function(e,t,n){e.exports=n(365)},56:function(e,t,n){},58:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){},68:function(e,t,n){},71:function(e,t,n){}},[[47,2,1]]]);
//# sourceMappingURL=main.0ddc1b32.chunk.js.map